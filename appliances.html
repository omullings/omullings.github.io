<!DOCTYPE html>
<html lang="en" class="no-js" ng-app>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Globus VPN</title>
		<meta name="description" content=" " />
		<meta name="keywords" content=" " />
		<meta name="author" content=" " />
		<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400|Montserrat:700' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.2.0/css/font-awesome.min.css" />
		<link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
		<link rel="stylesheet" href="css/style.css"> <!-- Resource style -->
		<link rel="stylesheet" href="css/dropit.css"> <!-- Resource style -->
		<script src="js/jquery-2.1.1.js"></script>
		<script src="js/modernizr.custom.js"></script>
		<link rel="stylesheet" type="text/css" href="css/leaflet.css" />
    <script type='text/javascript' src='http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js?2'></script>
	</head>
	<body >
		<div id="preloader" >
			<style>

				#preloader .companyPanel{

				}

				#preloader {
				    display: table;
				    position: absolute;
				    height: 100%;
				    width: 100%;
				}

				.companyPanel {
				    display: table-cell;
				    vertical-align: middle;
				}

				.cd-contact-info {
				    margin-left: auto;
				    margin-right: auto;
				    width: auto;
				}

				.cd-contact-info {
					margin-top: 30px;
					text-align: center;
					padding: 25px 0;
					background: white;
					border-radius: 3px;
					width: 360px;
					min-height: 500px;}

					.cd-contact-info p{
						font-weight: bold;
						font-family: 'Montserrat', sans-serif;
					}

					.cd-contact-info a {
						color: #333;
						text-decoration: none;
						padding-bottom: 2px;
						border-bottom: 1px dotted #333;
					}

					.cd-contact-info p,.cd-contact-info a,.cd-contact-info address {
						margin: 20px 40px;
					}

					.cd-contact-info address span {
						display: block;
						color: #666;
						line-height: 1.5em;
					}

			</style>
			<div class="cd-half-block  companyPanel" >

				<div class="cd-contact-info">
					<img src="img/icon-globus-vpn.svg" class="rngle-logo">
				<p>GLOBUS VPN</p>
				<a href="mailto:info@infosecglobal.com">info@infosecglobal.com</a>
				<address>
					<ul >
						<li>
							<span>Hardturmstrasse 103</span>
							<span>8005, Zürich</span>
							<span>Switzerland</span>
						</li>
					</ul>
				</address>
			</div>
			</div> <!-- .cd-half-block -->
		</div>
		<div class="container">
			<div id="content" class="content" style="position: relative; overflow-y: hidden; ">
				<style media="screen">
					nav.navigation a.nav-item {
						position: relative;
						display: block;
						width: 100%;
						padding: 10px 0 10px 0;
						text-decoration: none;
						margin-top: -1px;
					}
					nav.navigation a.nav-item span.nav_label {
						visibility: hidden;
						display: block;
						z-index: 1;
						position: absolute;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						background: rgba(0, 0, 0, 0.5);
					}
					nav.navigation a.nav-item:hover span.nav_label {
						visibility: visible;
					}

					nav.navigation a.nav-item:hover span.nav_label span.nav_text {
						position: absolute;
						top: 50%;
  					transform: translateY(-50%);

						display: block;
						width: 100%;
						text-transform: uppercase;
						font-size: 9px;
						text-align: center;
						color: #fff;
						font-weight: bold;
						font-family: 'Montserrat', sans-serif;
						text-decoration: none;
					}

					nav.navigation a.current {
						background-color: #fafafa;
						border-bottom: 1px solid #eee;
						border-top: 1px solid #eee;
					}

					div#preloader {
						position: fixed;
						left: 0;
						top: 0;
						z-index: 999;
						width: 100%;
						height: 100%;
						overflow: visible;
						background: rgba(255, 255, 255, 0.9);
					}

					[ contenteditable="true"]:hover {
						background-color: #fafafa;
					}

				</style>
				<nav class="navigation" ><!---
					<a href="#cd-nav" class="cd-nav-trigger">Menu
						<span class="cd-nav-icon"></span>

						<svg x="0px" y="0px" width="54px" height="54px" viewBox="0 0 54 54">
							<circle fill="transparent" stroke="#656e79" stroke-width="1" cx="27" cy="27" r="25" stroke-dasharray="157 157" stroke-dashoffset="157"></circle>
						</svg>
					</a>-->
					<a href="appliances.html" class="nav-item current" >
						<img src="img/Network Icon.svg" alt="appliances"  style=" width: 35px; margin: 2px auto 5px auto; display: block; "/>
						<span class="nav_label">
							<span class="nav_text">Appliances</span>
						</span>
					</a>
					<a href="vpns.html" class="nav-item" >
						<img src="img/globe with shield.svg" alt="vpns" style=" width: 35px; margin: 10px auto; display: block; "/>
						<span class="nav_label">
							<span class="nav_text">VPNs</span>
						</span>
					</a>
					<div style="position: absolute; bottom: 5px; padding: 8px; border: 1px solid #eee; border-radius: 3px; display: block;  width: 50px; margin: 10px; ">
						<span style=" text-transform: uppercase;  font-size: 0.7em; font-family: 'Montserrat', sans-serif; font-weight: 600; display: block; color: #666; text-align: center; ">العربية</span>
					</div>
				</nav>
				<section id="listPanel" >
						<header id="appliance_header" >
							<span id="list_header" style="">Appliances</span>
							<a href="#" style="position: relative; float: right; "><i class="fa fa-plus" style="display: inline-block; position: absolute; right: 0px; color: #333; "></i></a>
						<div id="filter-container">
							<input id="filter_appliances" type="search" placeholder="Filter applianaces">
							<div class="field_help">
								<i class="fa fa-question-circle" >
								<span class="help_text">
									<strong>Filter by the following: </strong></br>
									Name , </br> VPNs, </br>location, </br>status (online or offline) or </br>groups. </br></br>
									<strong>Tip:</strong></br>
									Hit <i class="fa fa-arrow-down"></i> to select first item </br>
									Hit Control/Ctrl + A  to select all items</br>
								</span>
								</i>
							</div>
						</div>
					</header>
					<header id="selection_header" style="display: none; ">
						<div id="list_header" class="selection_count" style=""></div>
						<ul class="menu actions">
							<li>
									<a href="#"><i class="fa fa-ellipsis-v" style="display: inline-block; position: absolute; right: 0px; "></i></a>
									<ul>
											<li><a href="#">Assign to VPN</a></li>
											<li><a href="#">Assign to new VPN</a></li>
											<li><a href="#">Update software</a></li>
											<li><a href="#">Apply firewall rules</a></li>
									</ul>
							</li>
						</ul>
					</header>
					<section id="actions-list" class="actions-list">
						<ul id="grid" class="grid actions-list__group j-selectable clearfix" >
						</ul>
					</section>
				</section>
				<section id="mapContainer">
					<div id="applicationMap" style="height: 800px; "></div>
					<span id="Branding">
	 			 		<img src="img/infosecglobal-logo-onblack-rgb.png" alt="InfoSec Global" style="position: absolute; top: 5px; right: 5px; max-height: 60px; ">
	 			 </span>
					<div class="cd-panel from-left">
						<header class="cd-panel-header clearfix" style=" min-height: 50px;   ">
							<a href="#0" class="cd-panel-close" style=" width: 60px; ">Close</a>
						</header>

						<div class="cd-panel-container" >
							<form class="" action="" method="post">
							<div class="cd-panel-content" style="padding-top: 70px; "  >
								<div class="detail_summary" style="width: 100%;  width: 60%;  display: inline-block; padding-right: 25px; ">


									<div class="title_bar" style="display: block;  position: relative; margin-bottom: 25px; ">
										<span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Appliance:</span>
										<h2 id="application_name" style=" display: block; font-weight: 900; font-size: 24px; line-height: 1.5em; " contenteditable="true"> </h2>
									</div>

									<span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Description:</span>
									<span id="application_description" contenteditable="true" style=" display: block; margin: 20px 0; line-height: 1.5em; font-size: 0.8em; "></span>
									<div id="appliances_section" style=" margin-top: 25px; margin-bottom: 80px; border: 1px solid #eee; border-radius: 3px; position: relative; ">
										<style>
										#appliances_section:hover {
											background-color: #fafafa;
										}

										#appliances_section:hover i.fa-pencil {
											color: #333 !important;
										}
										</style>
										<span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; padding: 15px; display: block; color: #666; ">Virtual Private Networks:</span>
											<i class="fa fa-pencil" style="color: #ccc; text-shadow: 0 1px 0 #fff; font-size: 12px; position: absolute; top: 15px; right: 15px;  "></i>
											<div style="background-color: #fff; ">
											<span  ><div class="grid__item appliance actions-list__option cd-btn" style="margin: -1px 0 0 0 ; border: none; border-top: 1px solid #eee; border-radius: 0; " ><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">Intranet</h3><span class="vpn_status">Full Mesh</span></div><span class="status_true"><i class="fa fa-circle"></i></span></div></span>
											<span  ><div class="grid__item appliance actions-list__option cd-btn" style="margin: -1px 0 0 0 ; border: none; border-top: 1px solid #eee; border-radius: 0; " ><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">Email</h3><span class="vpn_status">Full Mesh</span></div><span class="status_true"><i class="fa fa-circle"></i></span></div></span>
											<span  ><div class="grid__item appliance actions-list__option cd-btn" style="margin: -1px 0 0 0 ; border: none; border-top: 1px solid #eee; border-radius: 0;" ><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">Printing</h3><span class="vpn_status">Full Mesh</span></div><span class="status_false"><i class="fa fa-circle"></i></span></div></span>
											<span  ><div class="grid__item appliance actions-list__option cd-btn" style="margin:  -1px 0 0 0 ; border: none; border-top: 1px solid #eee; border-radius: 0;" ><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">V.O.I.P.</h3><span class="vpn_status">Full Mesh</span></div><span class="status_true"><i class="fa fa-circle"></i></span></div></span>
											<span  ><div class="grid__item appliance actions-list__option cd-btn" style="margin:  -1px 0 0 0 ; border: none; border-top: 1px solid #eee; border-radius: 0;" ><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">File Sharing</h3><span class="vpn_status">Full Mesh</span></div><span class="status_true"><i class="fa fa-circle"></i></span></div></span>
										</div>
									</div>

								</div>
								<aside style=" width: 40%; margin: 0; display: inline-block; float: right; padding:  0px 0 0 15px;  ">
									<div class="" style=" margin-top: 0px; ">
										<span style=" padding: 15px; border: 1px solid #eee; display: block; border-top-left-radius: 3px;  border-top-right-radius: 3px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Management Address:</span> <span id="application_address"contenteditable="true" style=" display: block; line-height: 1.5em; "></span></span>
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; border-bottom-left-radius: 3px;  border-bottom-right-radius: 3px; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Management port:</span> <span id="application_port"  contenteditable="true" style=" display: block; line-height: 1.5em; "></span></span>
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; border-bottom-left-radius: 3px;  border-bottom-right-radius: 3px; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Connection:</span><span id="application_status" style=" display: block; width: 100%; float: none; "></span><span style="font-size: 0.7em; color: #666; margin: 0px 0 10px 0; line-height: 1em; ">Last communication attempt: 2:30 AM - October 30, 2015.</span></span>
									</div>

									<div id="location_section" class="app_details" style="margin-top: 25px; position: relative; ">
									<style>
									#location_section:hover {
										background-color: #fafafa;
									}

									#location_section:hover i.fa-pencil {
										color: #333 !important;
									}
									</style>
										<span  style=" border: 1px solid #eee; border-radius: 3px;  display: block; border-bottom-left-radius: 3px;  border-bottom-right-radius: 3px; margin-top: -1px; overflow: none;  ">
											<span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin: 15px; display: block; color: #666; ">Location:</span>
											<i class="fa fa-pencil" style="color: #ccc; text-shadow: 0 1px 0 #fff; font-size: 12px; position: absolute; top: 15px; right: 15px;  "></i>
											<span id="application_location_map" style="display: block;  height: 300px; position: relative;  "></span>
										</span>
									</div>

									<div class="app_details" style="margin-top: 25px; position: relative; ">
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; border-top-left-radius: 3px;  border-top-right-radius: 3px; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Software name:</span> <span id="application_port" ></span></span>
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Software version:</span> <span id="application_port" ></span></span>
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Make:</span> <span id="application_port" ></span></span>
										<span  style=" padding: 15px; border: 1px solid #eee; display: block; border-bottom-left-radius: 3px;  border-bottom-right-radius: 3px; margin-top: -1px;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 15px; display: block; color: #666; ">Model:</span> <span id="application_port" ></span></span>
									</div>

									<div class="app_details" style="margin-top: 25px; position: relative; ">
										<span  style=" border: 1px solid #eee; border-radius: 3px;  display: block; border-bottom-left-radius: 3px;  border-bottom-right-radius: 3px; margin-top: -1px; overflow: none;  "><span style=" text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600; margin: 15px; display: block; color: #666; ">Groups:</span>
										<div style="padding: 0 15px 15px 15px;">
											<span class="group_item">Rack Servers</span><span class="group_item">Jeddah</span><span class="group_item">Visa Offices</span>
										</div>
										</span>
									</div>

								</aside>
							</div> <!-- cd-panel-content -->
							<div id="form_submit_buttons" style=" background-color: rgba(0, 0, 0, 0.6); height: 70px; position: absolute; bottom: 0; right: 0; left: 0; display: none; z-index: 99999; ">
								<input type="submit" name="submit" value="Save Changes" class="submit-button" style=" margin: 15px 5px 10px 25px; border-radius: 3px; height: 40px; padding: 5px 15px; text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600;  background: #1D9D1D;  color: #fff; border: 1px solid #333; ; box-shadow: none; text-shadow: 0 1px 0 green;    ">
								<button type="button" name="button" style=" background: transparent; color: #fff; border: 2px solid #fff; border-radius: 3px;  box-shadow: none; margin: 15px 5px; height: 40px; padding: 5px 15px; text-transform: uppercase;  font-size: 0.6em; font-family: 'Montserrat', sans-serif; font-weight: 600;"> Revert changes </button>
							</div>
							</form>
						</div> <!-- cd-panel-container -->
					</div> <!-- cd-panel -->
				</section>

			</div><!-- /content -->
		</div><!-- /container -->
		<div id="drop-area" class="drop-area">

			<div>
				<h1 style=" font-weight: 200; ">Add appliance to a virtual private network</h1>
				<br><br>
				<div class="drop-area__item"> <i class="fa fa-plus"></i> <span style="margin-left: 50px; font-size: 0.7em; text-transform: uppercase; font-family: 'Montserrat'; ">Create vpn</span></div>
				<div style="border-bottom: 1px solid #eee; margin: 15px; "></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-connectdevelop"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
				<div class="drop-area__item"><i class="fa fa-empire"></i></div>
			</div>
		</div>
		<div class="drop-overlay"></div>
		<div id="cd-nav" class="cd-nav">
          <div class="cd-navigation-wrapper">
            <div class="cd-primary-nav cd-half-block ">
              <nav>
              <!--  <h3>Dashboard</h3>
                <ul class="">
                  <li><a href="#/overview" class="">Overview</a></li>
                </ul> -->
                <h3>Appliance Management</h3>
                <ul>
                  <li><a href="appliances.html" class="">Manage Appliances</a></li>
                  <li><a href="vpns.html" class="">Manage VPNs</a></li>
                  <!-- <li><a href="#/vpntemplate" class="">Manage VPN Templates</a></li> -->
                  <!-- <li><a href="#/alerts" class="">Manage Alerts</a></li> -->
                  <!-- <li><a href="#/sites" class="">Manage Sites</a></li> -->
                </ul>
                <h3>Administration</h3>
                <ul>
                  <li><a href="" class="">Manage Administrators</a></li>
                  <li><a href="" class="">Manage Roles and Permissions</a></li>
                </ul>
                <h3>System Configuration</h3>
                <ul>
                  <li><a href="" class="">Manage Settings</a></li>
                </ul>
                <h3>Account</h3>
                <ul>
                  <li><a href="" class="">Mohammed Askari</a></li>
                  <li><a href="" class="">Logout</a></li>
                </ul>
              </nav>
            </div><!-- .cd-half-block -->

            <div class="cd-half-block cd-contact-info companyPanel" >
              <img src="img/logo.svg" class="rngle-logo">
              <div >
              <p>GLOBUS VPN</p>
              <a href="mailto:info@infosecglobal.com">info@infosecglobal.com</a>
              <address>
                <ul >
                  <li>
                    <span>Hardturmstrasse 103</span>
                    <span>8005, Zürich</span>
                    <span>Switzerland</span>
                  </li>
                </ul>
              </address>
            </div>
            </div> <!-- .cd-half-block -->
          </div> <!-- .cd-navigation-wrapper -->
        </div> <!-- .cd-nav -->

			 </script>
		<script src="js/main.js"></script> <!-- Resource jQuery -->
		<script src="js/draggabilly.pkgd.min.js"></script>
		<script src="js/dragdrop.js"></script>

		<script src="js/dropit.js"></script>
		<script>
		$(document).ready(function() {
				var body = document.body,
					dropArea = document.getElementById( 'drop-area' ),
					droppableArr = [], dropAreaTimeout;

				// initialize droppables
				[].slice.call( document.querySelectorAll( '#drop-area .drop-area__item' )).forEach( function( el ) {
					droppableArr.push( new Droppable( el, {
						onDrop : function( instance, draggableEl ) {
							// show checkmark inside the droppabe element
							classie.add( instance.el, 'drop-feedback' );
							clearTimeout( instance.checkmarkTimeout );
							instance.checkmarkTimeout = setTimeout( function() {
								classie.remove( instance.el, 'drop-feedback' );
							}, 800 );
							// ...
						}
					} ) );
				} );

				// initialize draggable(s)
				[].slice.call(document.querySelectorAll( '#grid .grid__item' )).forEach( function( el ) {
					new Draggable( el, droppableArr, {
						draggabilly : { containment: document.body },
						scroll : true,
						scrollable : '#drop-area',
						scrollSpeed : 20,
						scrollSensitivity : 10,
						onStart : function() {

							// clear timeout: dropAreaTimeout (toggle drop area)
							clearTimeout( dropAreaTimeout );

						},
						onDrag : function() {
							// add class 'drag-active' to body
							classie.add( body, 'drag-active' );
							// show dropArea
							classie.add( dropArea, 'show' );


						},
						onEnd : function( wasDropped ) {
							var afterDropFn = function() {
								// hide dropArea
								classie.remove( dropArea, 'show' );
								// remove class 'drag-active' from body
								classie.remove( body, 'drag-active' );
							};

							if( !wasDropped ) {
								afterDropFn();
							}
							else {
								// after some time hide drop area and remove class 'drag-active' from body
								clearTimeout( dropAreaTimeout );
								dropAreaTimeout = setTimeout( afterDropFn, 400 );
							}

						}
					} );
				} );
		});
		</script>
		<script type='text/javascript' src='API/appliances.json'></script>
		<script type='text/javascript' src='js/maps/leaf-demo.js'></script>
		<script>
		$(function(){
			$('.cd-panel-close').click(function(){
				$('.cd-panel ').removeClass('is-visible');
			});
		});
		$(function() {


			function doSetSelectedCount() {
				var n = $( "#grid .j-selected" ).length;
				$("header .selection_count").text( n + ' appliances selected.');
				return n;
			}

			var detail_map = L.map('application_location_map');
			L.tileLayer( 'http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png', {
					attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
			}).addTo( detail_map );

			function setItemMap( selectedItem ) {
				var app_lat = $( selectedItem ).attr('data-lat');
				var app_lng = $( selectedItem ).attr('data-lng');
				var app_location = $( selectedItem ).attr('data-location');
				var app_status = $( selectedItem ).attr('data-status');

				detail_map.setView([ app_lat , app_lng ], 16 );

				var myIcon = L.icon({
		        iconUrl: myURL + 'images/up.svg',
		        iconRetinaUrl: myURL + 'images/up.svg',
		        iconSize: [ 24, 24],
		        iconAnchor: [12, 21],
		        popupAnchor: [ 0 , -14]
		    });

			  var online_status = "online" ;
			  var down_status = "down" ;
			  var offline_status = "offline" ;

			  if( app_status === online_status ){
			    var myIcon = L.icon({
			        iconUrl: myURL + 'images/up.svg',
			        iconRetinaUrl: myURL + 'images/up.svg',
			        iconSize: [ 24, 24],
			        iconAnchor: [12, 21],
			        popupAnchor: [ 0 , -14]
			    });
			  } else if (app_status ===  down_status ) {
			    var myIcon = L.icon({
			        iconUrl: myURL + 'images/down.svg',
			        iconRetinaUrl: myURL + 'images/down.svg',
			        iconSize: [24, 24],
			        iconAnchor: [12, 21],
			        popupAnchor: [ 0 , -14]
			    });
			  } else if (app_status ===  offline_status ) {
			    var myIcon = L.icon({
			        iconUrl: myURL + 'images/offline.svg',
			        iconRetinaUrl: myURL + 'images/offline.svg',
			        iconSize: [24, 24],
			        iconAnchor: [12, 21],
			        popupAnchor: [ 0 , -14]
			    });
			  } else {

			  }

				L.marker( [ app_lat , app_lng ], {icon: myIcon} )
				.bindPopup( '<span  >' + app_location + '</span>' )
				.addTo( detail_map )
				.openPopup();

			}

			function setClickedItemDetails() {

					var app_name = $( event.currentTarget ).attr('data-name');
					var app_status = $( event.currentTarget ).attr('data-status');
					var app_location = $( event.currentTarget ).attr('data-location');
					var app_lat = $( event.currentTarget ).attr('data-lat');
					var app_lng = $( event.currentTarget ).attr('data-lng');
					var app_description = $( event.currentTarget ).attr('data-description');
					var app_address = $( event.currentTarget ).attr('data-address');
					var app_port = $( event.currentTarget ).attr('data-port');

					$('#application_name').html( app_name );
					//$('#application_location').html( app_location );
					//$('#application_lat').html( app_lat );
					//$('#application_long').html( app_lng );
					$('#application_address').html( app_address );
					$('#application_port').html( app_port );
					$('#application_description').html( app_description );

					$('#application_status').html(
						( app_status === "online" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + ' <i class="fa fa-circle" style="margin-left: 15px; "></i></span>'
						: ( app_status ===  "down" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + '<i class="fa fa-exclamation-triangle" style="margin-left: 15px; "></i></span>'
						: ( app_status ===  "offline" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + '<i class="fa fa-minus" style="margin-left: 15px; "></i></span>'
	          : ''
					);

					setItemMap( event.currentTarget );

			}

			function setSelectedItemDetails( selectedItem ) {

					var app_node = $( selectedItem );
					var app_name = $( selectedItem ).attr('data-name');
					var app_status = $( selectedItem ).attr('data-status');
					var app_location = $( selectedItem ).attr('data-location');
					var app_lat = $( selectedItem ).attr('data-lat');
					var app_lng = $( selectedItem ).attr('data-lng');
					var app_description = $( selectedItem ).attr('data-description');
					var app_address = $( selectedItem ).attr('data-address');
					var app_port = $( selectedItem ).attr('data-port');


					$('#application_name').html( app_name );
					//$('#application_location').html( app_location );
					//$('#application_lat').html( app_lat );
					//$('#application_long').html( app_lng );
					$('#application_address').html( app_address );
					$('#application_port').html( app_port );
					$('#application_description').html( app_description );

					$('#application_status').html(
						( app_status === "online" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + ' <i class="fa fa-circle" style="margin-left: 15px; "></i></span>'
						: ( app_status ===  "down" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + '<i class="fa fa-exclamation-triangle" style="margin-left: 15px; "></i></span>'
						: ( app_status ===  "offline" )?
							'<span class="status_' + app_status + '" style=" margin: 15px 0; ">' + app_status + '<i class="fa fa-minus" style="margin-left: 15px; "></i></span>'
	          : ''
					);

					setItemMap( app_node );

			}

			//open the lateral panel
			$('.cd-btn').on('click', function(event){

				event.preventDefault();

				if( doSetSelectedCount() < 2 ) {

					$('.cd-panel').addClass('is-visible');
					setClickedItemDetails();

				} else {

				}

			});



		  $(window).click(function () {
				if( doSetSelectedCount() == 0 ) {

				}
				if( doSetSelectedCount() < 2 ) {
						$(" #listPanel").removeClass("selectionState");
						$("#appliance_header").show();
						$("#selection_header").hide();
				} else if( doSetSelectedCount() == 2 ) {
					setTimeout(function() {
						doSetSelectedCount();
						$(" #listPanel").addClass("selectionState");
						$('.cd-panel').removeClass('is-visible');
	          $("#appliance_header").hide();
						$("#selection_header").show();
					}, 0);

				} else {
					setTimeout(function() {
						doSetSelectedCount();
						$(" #listPanel").addClass("selectionState");
	          $("#appliance_header").hide();
						$("#selection_header").show();
					}, 0);
				}

		  });

			$(window).on('keyup keydown', function() {
				if( doSetSelectedCount() < 2 ) {
						$(" #listPanel").removeClass("selectionState");
						$("#appliance_header").show();
						$("#selection_header").hide();
						if( doSetSelectedCount() == 1 ) {
							$('.cd-panel').addClass('is-visible');
							setSelectedItemDetails( $('.j-selected') );
						}
				} else if( doSetSelectedCount() == 2 ) {
					setTimeout(function() {
						doSetSelectedCount();
						$(" #listPanel").addClass("selectionState");
						$('.cd-panel').removeClass('is-visible');
	          $("#appliance_header").hide();
						$("#selection_header").show();
					}, 0);

				} else {
					setTimeout(function() {
						doSetSelectedCount();
						$(" #listPanel").addClass("selectionState");
						$('.cd-panel').removeClass('is-visible');
	          $("#appliance_header").hide();
						$("#selection_header").show();
					}, 0);
				}

				//close the lateral panel
				$('.cd-panel').on('click', function(event){
					if( $(event.target).is('.cd-panel') || $(event.target).is('.cd-panel-close') ) {
						$('.cd-panel').removeClass('is-visible');
						event.preventDefault();
					}
				});
			});

			// define a handler
			function doc_keyUp(e) {

					// this would test for whichever key is 40 and the ctrl key at the same time
					if ( e.ctrlKey && e.keyCode == 70 || e.keyCode == 91 && e.keyCode == 70) {
							//console.log( e.keyCode );
							// call your function to do the thing
							document.getElementById("filter_appliances").focus();
							e.preventDefault();

							return false;
					}
					//console.log( e.keyCode );
					if( $(".appliance").hasClass(".j-selected")){
						doSetSelectedCount();
						//$(" #listPanel").addClass("selectionState");
						//$("#appliance_header").hide();
						//$("#selection_header").show();
					};

			}
			// register the handler
			document.addEventListener('keyup', doc_keyUp, false);

		});

		</script>

		<script type="text/javascript">
		$(document).ready(function() {
			$('.menu').dropit();

		jQuery(document).ready(function($) {
			// site preloader -- also uncomment the div in the header and the css style for #preloader
			$(window).load(function(){
				setTimeout(function() {
					$('#preloader').fadeOut( 500 ,function(){$(this).remove();});
				}, 500);

			});

			});
		});
		</script>

		<script src="js/selectronic.js"></script>
		<script type="text/javascript">
			$('#filter_appliances').keyup(function (e){
			  console.log(e.keyCode);

			  if (e.keyCode == 40) {
						$('#filter_appliances').blur();
						//$(".appliance:first-child").selectonic("select", 0);
						$("#grid").selectonic("focus", 0 );

			   }

			});
		</script>
		<script>
		(function( $ ) {
				'use strict';

				var $el = $('#listPanel'),
				actions = $el.find('header .menu'),
				list    = $el.find('.actions-list__group');

				// Attach selectonic plugin
				list.selectonic({
					multi: true,
					keyboard: true,
					focusBlur: true,
					selectionBlur: true,

					// Before any changes
					before: function(e) {
						if (e.target === actions[0] || $(e.target).is('header .menu li a, header .menu i')) {
							this.selectonic('cancel');
						}
					},

					// When one or more items selectes
					select: function() {
						toggleActions(false);
					},

					// When all items clears selection
					unselectAll: function() {
						toggleActions(true);
					}
				});

				actions.on('click', 'header .menu li a', function(event) {
					event.preventDefault();
					// Get selected items from the list
					// and pass them to a method
					doAction( list.selectonic('getSelected') );
					this.blur();
				});

				function toggleActions (state) {
					if (state === void 0) {
						actions.toggleClass('disabled');
					} else {
						actions.toggleClass( 'disabled', state );
					}
				}

				function doAction (items) {
					items.each(function(index, el) {
						var $el = $(el);
						$el.addClass('animate');
						setTimeout(function() {
							$el.removeClass('animate');
						}, 300);
					});
				}

				toggleActions(true);

				})( jQuery );
		</script>
		<script type="text/javascript">
		(function(appliances) {
			var appliancesCount = appliances.length;

			for (var i = 0; i < appliancesCount; i++) {
				var application_status = appliances[i]['application_status'];

				var online_status = "online" ;
				var down_status = "down" ;
				var offline_status = "offline" ;

				$('#grid').prepend(
					( application_status === online_status )?
						'<li data-name="'+ appliances[i]['name'] +'" data-status="'+ appliances[i]['application_status'] +'" data-location="'+ appliances[i]['location'] +'" data-lat="'+ appliances[i]['latitude'] +'" data-lng="'+ appliances[i]['longitude'] +'" data-address="'+ appliances[i]['address'] +'" data-port="'+ appliances[i]['port'] +'" data-description="'+ appliances[i]['description'] +'"  class="grid__item appliance actions-list__option cd-btn"><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">' + appliances[i]['name'] + '</h3></div><span class="status_' + appliances[i]['application_status'] + '"><i class="fa fa-circle"></i></span></li>'
					: ( application_status ===  down_status )?
						'<li data-name="'+ appliances[i]['name'] +'" data-status="'+ appliances[i]['application_status'] +'" data-location="'+ appliances[i]['location'] +'" data-lat="'+ appliances[i]['latitude'] +'" data-lng="'+ appliances[i]['longitude'] +'" data-address="'+ appliances[i]['address'] +'" data-port="'+ appliances[i]['port'] +'" data-description="'+ appliances[i]['description'] +'" class="grid__item appliance actions-list__option cd-btn"><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">' + appliances[i]['name'] + '</h3></div><span class="status_' + appliances[i]['application_status'] + '"><i class="fa fa-exclamation-triangle"></i></span></li>'
					: ( application_status ===  offline_status )?
						'<li data-name="'+ appliances[i]['name'] +'" data-status="'+ appliances[i]['application_status'] +'" data-location="'+ appliances[i]['location'] +'" data-lat="'+ appliances[i]['latitude'] +'" data-lng="'+ appliances[i]['longitude'] +'" data-address="'+ appliances[i]['address'] +'" data-port="'+ appliances[i]['port'] +'" data-description="'+ appliances[i]['description'] +'" class="grid__item appliance actions-list__option cd-btn"><div style=" vertical-align: middle; display: inline-block; width: 80%; "><h3 class="app_name">' + appliances[i]['name'] + '</h3></div><span class="status_' + appliances[i]['application_status'] + '"><i class="fa fa-minus"></i></span></li>'
          : ''
				);
			}

		})(appliances);
		</script>
		<script>
		$(document).ready(function() {
				var bodyheight = $(window).height();
				$("#content").height(bodyheight);
				$("#actions-list").css("overflow-y", "scroll");
				$("#applicationMap").height(bodyheight);
		});

		$(window).resize(function() {
				var bodyheight = $(window).height();
				$("#content").height(bodyheight);
				$("#applicationMap").height(bodyheight);
		});

		$( ".appliance" ).mousedown(function() {
		  //$("#actions-list").css("overflow-y", "visible");
		});

		$( ".appliance" ).mouseup(function() {
			//$("#actions-list").css("overflow-y", "scroll");
		});
		</script>
		<script type="text/javascript">
		$('#filter_appliances').keyup(function (e){
			var searchValue = this.value.toLowerCase();

			// error checking - if they've cleared the field
			// show everything
			if (searchValue === '') {
				$("#grid").children().each(function (idx, ele) {
					$(ele).show();
				});
			}

			// Map thru all of the options...
			$("#grid").children().each(function (idx, ele) {
					var thisOption = $(ele).find('.app_name').text().toLowerCase();

					// If we can't match the search term..
					if (thisOption.indexOf(searchValue) === -1) {
						$(ele).hide();
					}
			});
		});

		</script>
		<script type="text/javascript">
		function manageFormSubmitControls(){

			// on the form element
			// if content on focus != content on blur then changes occurred
			// if changes occurred, then keep the form elements open

			var contents;
			var changesExist;

			$('[contenteditable = "true"]').focus(function() {

				contents = $(this).text() ;

				$('#form_submit_buttons').show();

			});

			$(document).on('blur','[contenteditable = "true"]', function() {

				if( contents == $(this).text()  ) {

					changesExist = "false";

				} else  {

					changesExist = "true";

				}

				if( changesExist == "false" ){

					$('#form_submit_buttons').hide();

				} else  {

					$('#form_submit_buttons').show();

				}

			});



		}

		$('.cd-btn').on('click', function(){

			manageFormSubmitControls();

		});
		</script>
		<!--
		<script type="text/javascript">
		(function(){
			var replaceWith = " ",
	    connectWith = " ";

			$.fn.inlineEdit = function(replaceWith, connectWith) {

				$(this).hover(function() {
						$(this).addClass('hover');
				}, function() {
						$(this).removeClass('hover');
				});

				$(this).click(function() {

						var elem = $(this);

						elem.hide();
						elem.after(replaceWith);
						replaceWith.focus();

						replaceWith.blur(function() {

								if ($(this).val() != "") {
										connectWith.val($(this).val()).change();
										elem.text($(this).val());
								}

								$(this).remove();
								elem.show();
						});
				});
			};
		});
		</script>
		-->
		<script type="text/javascript" src="js/chosen.jquery.min.js"></script>
		<script async src="//d1ks1friyst4m3.cloudfront.net/toolbar/prod/td.js" data-trackduck-id="560d8ba74660d9d2753f20b5"></script>
	</body>
</html>
